{% from "bootstrap5/form.html" import render_form %}

{% extends 'base.html' %}

{% block title %}Part 3: Confirm Pet Info{% endblock %}

{% block content %}

<div class="container-lg">
    <h1><b>Part 3: Confirm Pet Info</b></h1>

    <!-- Progress bar -->
    <div class="progress" role="progressbar" aria-label="bar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        <div class="progress-bar" style="width: 50%">50%</div>
      </div>

    
    <table class="table table-sm">
        <thead>
            <tr>
                <th>
                    <b>
                        Pet Name
                    </b>
                </th>
                <th>
                    <b>
                        Pet Age
                    </b>
                </th>
                <th>
                    <b>
                        Pet Species
                    </b>
                </th>
                <th>
                    <b>
                        Pet Breed
                    </b>
                </th>
                <th>
                    <b>
                        Pet Sex
                    </b>
                </th>
                <th>
                    <b>
                        Pet's Body Condition Score
                    </b>
                </th>
                <th>
                    <b>
                        Pet Weight
                    </b>
                </th>
                {% if pet_data[0].activity_level != None %}
                    <th>
                        <b>
                            Pet's Activity Level
                        </b>
                    </th>
                {% elif pet_data[0].is_pregnant != None %}
                    <th>
                        <b>
                            Pet is Pregnant?
                        </b>
                    </th>
                {% elif pet_data[0].weeks_gestating != None %}
                    <th>
                        <b>
                            Pet's Gestation Length
                        </b>
                    </th>
                {% elif pet_data[0].is_nursing == "y" %}
                    <th>
                        <b>
                            Pet is Nursing?
                        </b>
                    </th>
                {% elif pet_data[0].litter_size != None %}
                    <th>
                        <b>
                            Current Litter Size
                        </b>
                    </th>
                {% elif pet_data[0].weeks_nursing != None %}
                    <th>
                        <b>
                            Weeks Nursing
                        </b>
                    </th>
                {% endif %}    
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    {{ pet_data[0].name }}
                    
                    <a href="{{ url_for('pet_info') }}">
                        <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                    </a>
                </td>
                <td>
                    {{ pet_data[0].age_in_years }} years {{ pet_data[0].age_in_months }} months old
                    
                    <a href="{{ url_for('pet_info_continued') }}">
                        <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                    </a>
                </td>
                <td>
                    {{ pet_data[0].species }}

                    <a href="{{ url_for('pet_info') }}">
                        <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                    </a>
                </td>
                <td>
                    {{ pet_data[0].breed }}

                    <a href="{{ url_for('pet_info_continued') }}">
                        <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                    </a>
                </td>
                <td>
                    {{ pet_data[0].sex }}

                    <a href="{{ url_for('pet_info_continued') }}">
                        <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                    </a>
                </td>
                <td>
                    {{ pet_data[0].bcs }}/9

                    <a href="{{ url_for('pet_condition') }}">
                        <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                    </a>
                </td>
                <td>
                    {{ pet_data[0].weight }} {{ pet_data[0].units }} 

                    <a href="{{ url_for('pet_condition') }}">
                        <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                    </a>
                </td>
                {% if pet_data[0].activity_level != None %}
                    <td>
                        {{ pet_data[0].activity_level }}

                        <a href="{{ url_for('activity') }}">
                            <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                        </a>
                    </td>
                {% elif pet_data[0].is_pregnant != None %}
                    <td>
                        {{ pet_data[0].is_pregnant }}

                        <a href="{{ url_for('repro_status') }}">
                            <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                        </a>
                    </td>
                {% elif pet_data[0].weeks_gestating != None %}
                    <td>
                        {{ pet_data[0].weeks_gestating }}

                        <a href="{{ url_for('gestation_duration') }}">
                            <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                        </a>
                    </td>
                {% elif pet_data[0].is_nursing == "y" %}
                    <td>
                        {{ pet_data[0].is_nursing }}

                        <a href="{{ url_for('lactation_status') }}">
                            <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                        </a>
                    </td>
                {% elif pet_data[0].litter_size != None %}
                    <td>
                        {{ pet_data[0].litter_size }}

                        <a href="{{ url_for('litter_size') }}">
                            <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                        </a>
                    </td>
                {% elif pet_data[0].weeks_nursing != None %}
                    <td>
                        {{ pet_data[0].weeks_nursing }}

                        <a href="{{ url_for('lactation_duration') }}">
                            <button type="button" class="btn btn-secondary btn-sm">Edit</button>
                        </a>
                    </td>
                {% endif %}    
            </tr>
        </tbody>
    </table>
    <!-- Load in WTF Form --> 
    <form action="{{ url_for('confirm_data') }}" method="POST" >

        <div class="row">
            
        </div>
    
        <div class="button-container">
            {% if user_id != None %}
                {% if pet_data[0].species == "Feline" %}
                    <a href="{{ url_for('pet_condition') }}">
                        <button type="button" class="btn btn-secondary btn-lg">Go to Part 2: Weight and Body Condition</button>
                    </a>
                {% elif pet_data[0].species == "Canine" %}
                    <a href="{{ url_for('activity') }}">
                        <button type="button" class="btn btn-secondary btn-lg">Go to Part 2.5: Activity Level</button>
                    </a>
                {% endif %}
            {% endif %}

            <!-- Divider solution suggested by Michael Allen on Slack -->
            <div class="divider"></div>

            <button type="submit" class="btn btn-secondary btn-lg">Go to Part 4: Current Food</button>
        </div>
    </form>
</div>

{% endblock %}